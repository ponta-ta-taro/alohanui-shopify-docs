# 意思決定ログ

このドキュメントでは、プロジェクトにおける重要な技術的・ビジネス的判断を記録します。

## 📌 意思決定の記録方法

各決定事項について以下の形式で記録してください：

```markdown
### [YYYY-MM-DD] 決定事項のタイトル

**背景・課題**:
なぜこの決定が必要だったか

**検討した選択肢**:
1. 選択肢A - メリット/デメリット
2. 選択肢B - メリット/デメリット
3. 選択肢C - メリット/デメリット

**決定内容**:
最終的に何を選択したか

**理由**:
なぜその選択をしたか

**影響範囲**:
- 技術的影響
- コスト的影響
- スケジュール的影響

**関連ドキュメント**:
- 関連するドキュメントへのリンク

**決定者**: 氏名・役割

**ステータス**: 🟢確定 / 🟡暫定 / 🔴変更予定
```

---

## 📋 決定事項一覧

### [2026-02-14] プロジェクト構成とドキュメント体系

**背景・課題**:
- プロジェクト開始にあたり、効率的な開発とスムーズな引き継ぎを実現する必要
- 複数フェーズにわたる長期プロジェクトのため、体系的な管理が必須
- AI（Cursor）との協働開発を前提とした体制構築

**検討した選択肢**:
1. **最小限のドキュメント** - README.mdのみで管理
   - メリット: シンプル、管理コスト低
   - デメリット: 情報が散在、引き継ぎ困難、AIとの協働が非効率

2. **Git Issue/PR中心** - GitHubのIssue/PRで管理
   - メリット: バージョン管理との統合、変更履歴追跡
   - デメリット: 現時点でGit未使用、プロジェクト全体像が見えづらい

3. **体系的なドキュメント構造**（採用） - 役割別にドキュメントを分割
   - メリット: 情報の整理、AI協働がスムーズ、引き継ぎ容易
   - デメリット: 初期セットアップコスト

**決定内容**:
以下のドキュメント体系を採用：
- `HANDOVER.md` - プロジェクト引き継ぎ、進捗管理
- `PROJECT_CONTEXT.md` - ビジネス背景、戦略、KPI
- `.cursorrules` - AI協働のためのコーディングルール
- `README.md` - プロジェクト概要、クイックスタート
- `docs/` - 詳細ドキュメント群
  - `genspark-manual.md` - 改善提案の詳細
  - `implementation-log.md` - 日々の実装記録
  - `setup-log.md` - 環境構築記録
  - `decisions.md` - このファイル
  - `prompts/` - 各機能の実装ガイド
  - `designs/` - デザイン素材管理

**理由**:
- AI（Cursor）との協働では、明確なルールとコンテキストが効率を大きく左右する
- Phase 1〜3の段階的実装において、各フェーズの目的と進捗が可視化されるべき
- 将来的な引き継ぎや、クライアントへの報告に耐える体系が必要
- ドキュメント作成の初期コストは、長期的な効率化で十分に回収できる

**影響範囲**:
- 技術的影響: ドキュメントファーストの開発フロー確立
- コスト的影響: 初期セットアップに2時間程度、以後の保守は最小限
- スケジュール的影響: 初日に基盤整備完了、以後の開発速度向上が期待

**関連ドキュメント**:
- `HANDOVER.md`
- `README.md`

**決定者**: プロジェクトオーナー

**ステータス**: 🟢確定

---

### [2026-02-14] 開発環境構成（3ストア体制）

**背景・課題**:
- 本番環境を触らずに安全に開発する必要
- 有料機能のテストができる環境も必要
- コストと安全性のバランス

**検討した選択肢**:
1. **本番環境のみ** - 直接編集
   - メリット: シンプル、コストゼロ
   - デメリット: リスク大、テスト不可、クライアント運営中の環境を破壊する危険

2. **開発ストア1つ** - 無料開発ストアのみ
   - メリット: コストゼロ、安全
   - デメリット: 有料機能（Judge.meなど）のテストができない

3. **3ストア体制**（採用） - 本番・開発・テスト
   - メリット: 安全、有料機能テスト可、明確な役割分担
   - デメリット: 月150円のコスト、管理の複雑性

**決定内容**:
以下の3ストア体制：

| 種別 | ストア名 | 用途 | コスト |
|-----|---------|------|--------|
| 本番 | アロハ縫茅ヶ崎 | クライアント運営（触らない） | 既存 |
| 開発 | alohanui-demo | メイン開発環境 | 無料 |
| テスト | bekffc-wz | 有料機能テスト | 月150円 |

**理由**:
- 本番環境を守ることが最優先
- Phase 1でJudge.me（レビューアプリ）導入を予定しており、有料機能のテスト環境が必須
- 月150円のコストは、本番環境を誤って破壊するリスクと比較して十分に安い
- 開発・テスト・本番の3段階は業界標準のベストプラクティス

**影響範囲**:
- 技術的影響: ストア名を常に確認する習慣が必要
- コスト的影響: 月150円（年間1,800円）の追加コスト
- スケジュール的影響: なし（既にセットアップ済み）

**関連ドキュメント**:
- `HANDOVER.md` - 環境構成の詳細
- `setup-log.md` - セットアップ記録

**決定者**: プロジェクトオーナー

**ステータス**: 🟢確定

---

### [2026-02-14] CSS設計手法（BEM採用）

**背景・課題**:
- Shopify Liquidテーマ開発において、保守性の高いCSS設計が必要
- AI（Cursor）との協働では、明確な命名規則が効率を左右
- 将来的な機能追加や変更に耐える構造

**検討した選択肢**:
1. **フリースタイル** - 特に規則を定めない
   - メリット: 自由度高い、学習コスト低
   - デメリット: 命名の一貫性なし、保守困難、スコープ衝突リスク

2. **Tailwind CSS** - ユーティリティファーストCSS
   - メリット: 開発速度向上、一貫性
   - デメリット: Shopifyテーマとの統合が複雑、ビルドプロセス必要

3. **BEM（Block Element Modifier）**（採用）
   - メリット: シンプル、Shopifyテーマと相性良い、AIが理解しやすい
   - デメリット: クラス名が長くなる

**決定内容**:
BEM方式を採用：
```css
.block { }              /* 独立したコンポーネント */
.block__element { }     /* ブロックの構成要素 */
.block--modifier { }    /* バリエーション */
```

**理由**:
- Shopifyの公式テーマ「Dawn」でもBEM的な命名が採用されている
- ビルドプロセス不要で、Shopify CLIのlive reloadと相性が良い
- AI（Cursor）がクラス名から役割を推測しやすく、協働効率が高い
- セクションベース開発との親和性が高い

**影響範囲**:
- 技術的影響: すべてのCSSをBEM規則で記述
- コスト的影響: なし（学習コスト最小限）
- スケジュール的影響: なし（標準的な手法）

**関連ドキュメント**:
- `.cursorrules` - コーディング規約の詳細

**決定者**: プロジェクトオーナー

**ステータス**: 🟢確定

---

### [2026-02-14] Phase分けと優先順位

**背景・課題**:
- Gensparkから15項目の改善提案を受領
- すべてを一度に実装するのは非現実的
- 効果の高い項目から段階的に実装し、効果測定しながら進めたい

**検討した選択肢**:
1. **すべて並行実装** - 15項目を同時進行
   - メリット: 短期間で完成
   - デメリット: リスク大、効果測定不可、品質低下

2. **順番に1つずつ** - 1項目完了後に次へ
   - メリット: リスク最小、効果測定しやすい
   - デメリット: 時間がかかりすぎる、相乗効果を得られない

3. **3フェーズに分割**（採用） - 優先度別に5項目ずつ
   - メリット: バランスが良い、効果測定可能、段階的なリリース
   - デメリット: フェーズ間の調整が必要

**決定内容**:
以下の3フェーズに分割：

**Phase 1（1〜2週間）**: 最優先・即効性高
1. 購入ボタン改善
2. 商品写真追加
3. レビュー機能導入
4. サイズガイド刷新
5. トップページヒーロー改善

**Phase 2（2〜3週間）**: 信頼性向上
6. FAQ拡充
7. お客様の声
8. 制作工程紹介
9. 返品・交換ポリシー明記
10. 配送情報詳細化

**Phase 3（3〜4週間）**: エンゲージメント強化
11. Instagram連携
12. メルマガ登録
13. ブログコンテンツ
14. ギフトオプション
15. 関連商品レコメンド

**理由**:
- Phase 1は直接的にコンバージョン率に影響する項目
- Phase 2は信頼性を高め、長期的なブランド価値を構築
- Phase 3はリピート購入とコミュニティ形成を促進
- 各Phaseの効果を測定してから次に進めるため、リスク管理が可能
- 5項目ずつの実装は、1〜2週間で完了可能な現実的な分量

**影響範囲**:
- 技術的影響: 各Phase終了時に効果測定とレビュー
- コスト的影響: なし（作業分散により負荷平準化）
- スケジュール的影響: 全体で1〜2ヶ月の想定

**関連ドキュメント**:
- `HANDOVER.md` - Phase別の詳細
- `PROJECT_CONTEXT.md` - KPI目標

**決定者**: プロジェクトオーナー

**ステータス**: 🟢確定

---

## 🔮 検討中の事項

### Git管理の導入

**現状**: Git未使用、Shopify CLI経由で直接push/pull

**検討事項**:
- Gitでバージョン管理すべきか？
- ブランチ戦略をどうするか？
- GitHub/GitLab等のリモートリポジトリは必要か？

**次回検討**: Phase 1完了時

**ステータス**: 🟡検討中

---

### レビューアプリの選定

**現状**: Judge.meを第一候補としている

**検討事項**:
- Judge.me vs Loox vs Yotpo
- 写真付きレビュー機能の比較
- 価格とコストパフォーマンス
- 日本語対応

**次回検討**: Phase 1の③レビュー機能実装時

**ステータス**: 🟡検討中

---

### サイズガイドの実装方法

**現状**: カスタム実装 vs アプリ導入で迷い中

**検討事項**:
1. カスタム実装（Liquid + CSS + JS）
   - メリット: 完全にカスタマイズ可能、コストゼロ
   - デメリット: 開発工数大、保守コスト

2. アプリ導入（Kiwi Sizing等）
   - メリット: 高機能、保守不要
   - デメリット: 月額コスト、カスタマイズ制限

**次回検討**: Phase 1の④サイズガイド実装時

**ステータス**: 🟡検討中

---

## 🔄 変更・撤回された決定

（該当する場合に記録）

### [日付] 変更された決定のタイトル

**元の決定**: 何を決めていたか

**変更後**: 何に変更したか

**変更理由**: なぜ変更したか

**影響**: 何に影響したか

---

## 💡 意思決定のガイドライン

プロジェクトでの意思決定は、以下の原則に基づきます：

### 1. ユーザーファースト
すべての判断はユーザー体験を最優先に考える

### 2. データドリブン
感覚や仮説ではなく、測定可能な数値で判断

### 3. 段階的改善
一度にすべてを変えず、小さく試して学ぶ

### 4. 品質重視
速さよりも正確さ、見た目よりも使いやすさ

### 5. 透明性
重要な判断は必ず記録し、理由を明確にする

---

**作成日**: 2026-02-14  
**最終更新**: 2026-02-14
